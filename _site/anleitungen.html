<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <link rel="stylesheet" type="text/css" href="/assets/main.css?6d10bbd">
  <title>Anleitungen - Freifunk Bremen</title>
  <meta name="viewport" content="width=device-width">
  <meta name="description" content="Freifunk steht für freie Kommunikation in digitalen Datennetzen. Wir verstehen frei als öffentlich zugänglich, nicht kommerziell, im Besitz der Gemeinschaft und unzensiert.">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/images/favicon/32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/favicon/16x16.png" sizes="16x16">
  <link rel="manifest" href="/manifest.json">
  <link rel="mask-icon" href="/images/favicon/safari-pinned-tab.svg" color="#dc0067">
  <meta name="theme-color" content="#dc0067">
  <meta property="og:image" content="//bremen.freifunk.net/images/logo/logo_og_facebook.png" />

</head>
  <!-- These two wrapper divs sadly are necessary to correctly show the menu on Webkit mobile browsers, see http://stackoverflow.com/q/14270084 -->
<body><div><div>
  <header id="pageheader">
    <h1>Freifunk Bremen</h1>
    <button type="button" id="navbutton">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="sr-only">Toggle navigation</span>
    </button>
    <a href="/" id="logo">
      <svg width="170" height="188">
        <image xlink:href="/images/logo/homepage.svg" src="/images/logo/homepage.png" width="170" height="188"/>
      </svg>
    </a>
    <svg width="439" height="200" id="skyline">
      <image xlink:href="/images/logo/skyline.svg" src="/images/logo/skyline.png" width="439" height="200"/>
    </svg>
    <nav>
      <a href="/" id="navlogo">
        <svg width="170" height="188">
          <image xlink:href="/images/logo/homepage.svg" src="/images/logo/homepage.png" width="170" height="188"/>
        </svg>
      </a>
      <ul id="mainnav">

        <li data-catid="0">
          <a>Startseite</a>
          <ul>

            <li><a href="/#was-ist-freifunk">Was ist Freifunk?</a>

            <li><a href="/#news">News</a>

            <li><a href="/#termine">Termine</a>

            <li><a href="http://karte.leipzig.freifunk.net:8018/meshviewer2/build/">Karte</a>

            <li><a href="/#partner">Partner</a>

            <li><a href="/kontakt.html">Kontakt</a>

          </ul>

        <li data-catid="1" class="active">
          <a>Einsteiger</a>
          <ul>

            <li><a href="/anleitungen.html">Anleitungen</a>

            <li><a href="/firmware.html">Firmware</a>

            <li><a href="/hardware.html">Hardware</a>

            <li><a href="/faq.html">FAQ</a>

            <li><a href="/dienste.html">Dienste</a>

          </ul>

        <li data-catid="2">
          <a>Engagierte</a>
          <ul>

            <li><a href="/kontakt.html#mailingliste">Mailingliste</a>

            <li><a href="/firmware.html">Firmware</a>

            <li><a href="https://wiki.bremen.freifunk.net/">Wiki</a>

            <li><a href="/technik.html">Technik</a>

            <li><a href="/struktur.html">Struktur</a>

          </ul>

        <li data-catid="3">
          <a>Unterstützer</a>
          <ul>

            <li><a href="/verein/">Verein</a>

            <li><a href="/verein/#spenden">Spenden</a>

            <li><a href="/unterstuetzen.html#server-stellen">Server stellen</a>

            <li><a href="/unterstuetzen.html#router-verkaufen">Router verkaufen</a>

            <li><a href="/infomaterial.html">Infos verbreiten</a>

            <li><a href="/unterstuetzen.html#dachflächen">Dachflächen</a>

          </ul>

      </ul>
    </nav>
  </header>
  <main>
    <section>
<p>Damit dein Router Teil des Freifunk-Netzes werden kann, muss er mit dem Freifunk-Betriebssystem (der „Firmware“) <strong>bespielt</strong>, <strong>eingerichtet</strong> und entsprechend <strong>angeschlossen</strong> werden. Im Folgenden leiten wir dich durch diese drei kurzen Schritte durch.</p>

<p>Aber eins vorweg: Falls du dir unsicher bist, richten wir dir auch gerne einen Router bei einem der nächsten Freifunktreffen ein!</p>

<h2 id="auswahl-der-hardware">Auswahl der Hardware</h2>
<p>Wenn du dich dazu entscheidest beim Freifunk mitzumachen, hast du anfangs die Qual der Wahl beim Aussuchen eines Routers. Welche Firmware-Version gerade aktuell ist und welche Router sie unterstützt, findest du in unserem <a href="http://firmware.leipzig.freifunk.net:8004/srv2/gluon/downloader/firmware.php?id=0">Firmware-Donwloader</a>. Dort kannst du Schritt für Schritt die passende Firmware für deinen Router aussuchen.
Eine gute Übersichtseite mit vielen Informationen findet sich auch im <a href="http://wiki.freifunk.net/Freifunk_Firmware_Gluon/Hardware">Wiki von freifunk.net</a>.</p>

<h3 id="für-den-innenbereich">Für den Innenbereich</h3>

<p>Für den schmalen Geldbeutel empfehlen wir den <strong>TP-Link TL-WDR3600</strong> (gebraucht ab ca. 10€ bis knapp 25 € zu haben).
Wenn es etwas mehr kosten darf, raten wir zu dem leistungsfähigeren <strong>TP-Link TL-WDR4300</strong> (gebraucht ab ca. 30€) oder <strong>TP-Link TL-WDR4900</strong> (gebraucht ab ca 50 €). Für den <strong>TP-Link TL-WR841N</strong> können wir nicht mehr empfehlen, da er für weitere Firmware-Entwicklungen zu wenig Flash- und RAM-Speicher zur Verfügung hat.</p>

<h3 id="richtfunk-für-den-außenbereich">Richtfunk für den Außenbereich</h3>

<p>Zur Versorgung von Nutzern in einem 60°-Bereich eignet sich der <a href="http://www.heise.de/preisvergleich/tp-link-cpe210-a1189570.html"><strong>TP-Link CPE-210</strong></a> für rund 50 € und die Ubiquiti <a href="http://www.heise.de/preisvergleich/ubiquiti-nanostation-m2-loco-a651904.html">NanoStation M2 Loco</a>. Zum Aufbau von Richtfunkstrecken empfehlen wir den <a href="http://www.heise.de/preisvergleich/tp-link-cpe510-a1156684.html">TP-Link CPE-510</a> oder die Ubiquiti NanoStation M5. Für Punkt-zu-Punkt-Verbindungen mit einer Länge von mehreren hundert Metern lohnt sich ein Blick auf die Ubiquiti <a href="http://www.heise.de/preisvergleich/ubiquiti-nanobeam-m-nbe-m5-19-a1102259.html">NanoBeam M5</a> oder <a href="http://www.heise.de/preisvergleich/ubiquiti-nanobeam-ac-nbe-5ac-19-a1302545.html">NanoBeam AC</a>.</p>

<p>Alle Außengeräte werden über das Netzwerkkabel mit Strom versorgt (PoE). Spezielle <a href="http://www.amazon.de/1aTTack-Flach-Netzwerk-Patch-Kabel-Stecker/dp/B004WCQFGU/">flache Netzwerkkabel</a> können in vielen Fällen durch Fenster/Türen gelegt werden, so dass keine Außenwand durchbohrt werden muss.</p>

<h2 id="neue-firmware">Neue Firmware</h2>

<h3 id="firmware-downloaden">Firmware downloaden</h3>

<p>Zuerst brauchst du die passende Freifunk-Firmware für deinen Router. Die <strong>Rückseite</strong> deines Gerätes verrät dir, welche Firmware du genau brauchst.</p>

<p><img src="http://jel.to/ff_pics/router_rueckseite.jpg" title="Rückseite deines Routers" /></p>

<p>Unter <strong>„1.“</strong> findest du die <strong>Modellnummer</strong> und unter <strong>„2.“</strong> die <strong>Revisionsnummer</strong>. „Ver 8.1“ steht dabei allgemein für Version 8, „Ver 7.4“ für Version 7 usw.</p>

<p>Im <a href="http://firmware.leipzig.freifunk.net:8004/srv2/gluon/downloader/firmware.php?id=0">Firmware-Donwloader</a> suchst du dir nun genau dein Router-Modell in deiner Revision, und lädst die Datei für die <strong>“Erstinstallation”</strong> herunter.</p>

<p>In oberen Fall wäre das die Datei mit dem Namen: gluon-<em>GLUONVERSION</em>-tp-link-tl-<strong>wr841n</strong>-nd-<strong>v8</strong>.bin. Achte bitte unbedingt darauf, dass Modellbezeichnung und Revision genau zu deinem Gerät passen. Einzig das N bzw. ND im Modellnamen ist irrelevant, die Firmware für den wr841n ist auch zum wr841nd kompatibel.</p>

<p><strong>Eine falsche Firmware kann dazu führen, dass wir den Router mit sehr großem Aufwand reanimieren müssen.</strong></p>

<p><strong>Ganz wichtig:</strong> Auf der Konfigurationsseite für das Upgrade, wird auch die Version der Originalfirmware angezeigt. Ist die Versionsnummer &gt; 5.5.x muss zwingend ein Downgrade der Firmware durchgeführt werden. Eine detailierte Anleitung ist in Vorbereitung. Bitte kommt mit dem Gerät zu einem der Freifunktreffen, wir unterstützen dort gerne.</p>

<h3 id="firmware-aufspielen">Firmware aufspielen</h3>

<p>Nachdem du dir die neue Firmware besorgt hast, musst du deinen <strong>Computer mit dem Freifunkrouter verbinden</strong>. Dazu setzt du den Router unter Strom (<strong>„1.“</strong>, Knopf ganz links rein drücken bei 841). Das „LAN“-Kabel steckst du in eine der <strong>gelben Buchsen („2“)</strong>. Die blaue Buchse brauchst du erst später. Verbinde das andere Ende des LAN-Kabels mit deinem Computer.
Am besten du verwendest das graue LAN-Kabel, was schon im Karton deines Routers dabei war.</p>

<p><img src="http://jel.to/ff_pics/router_anschluesse.jpg" title="Anschlüsse deines Routers" /></p>

<p>Das Menü deines Routers, über den wir die neue Firmware aufspielen, erreichst du über den <strong>Webbrowser</strong>. Tippe dazu folgende Adresse in deine Navigationsleiste <strong>(„1.“) : 192.168.0.1</strong></p>

<p>Standardmäßig musst du dich mit einem Benutzernamen und einem Password <strong>authentifizieren</strong>, diese lauten im Auslieferungszustand <strong>„admin“</strong> und <strong>„admin“</strong>.</p>

<p><img src="http://jel.to/ff_pics/menu_stock_1.jpg" title="Standard Weboberfläche" /></p>

<p>Den für uns interessanten Menüpunkt erreichst du links unter <strong>„System Tools“ („2.“) → „Firmware Upgrade“ („3.“)</strong>. Hier musst du nur noch die richtige <strong>Firmwaredatei aus dem vorherigen Schritt auswählen („4.“)</strong> und <strong>hochladen („5.“)</strong>. Prüfe bitte noch einmal, ob die Firmware wirklich zu deinem Routermodell passt, bevor du auf „Upgrade“ klickst!</p>

<p><img src="http://jel.to/ff_pics/menu_stock_2.jpg" title="Standard Weboberfläche" /></p>

<p>Nach wenigen Minuten sollte dein Router folgende Meldung anzeigen und neu starten.</p>

<p><img src="http://jel.to/ff_pics/success.png" width="300px" title="Erfolgreich geflasht" /></p>

<h2 id="freifunk-router-betriebsmodi">Freifunk-Router Betriebsmodi</h2>
<p>Ein Router mit aufgespielter Freifunk-Firmware nennt sich Knoten und hat zwei Betriebsmodi:</p>

<ol>
  <li>Konfigurationsmodus (config mode)</li>
  <li>Produktivmodus</li>
</ol>

<h3 id="konfigurationsmodus">Konfigurationsmodus</h3>
<p>Ist ein Knoten im Konfigurationsmodus, so baut er keine Verbindungen zu anderen Knoten in der Umgebung und zum Freifunk-Server, und somit dem Internet, auf. Das WLAN ist deaktiviert.</p>

<p>An Geräte, welche an einen LAN-Anschluss angeschlossen sind, verteilt er eine IP im Adressbereich <code class="highlighter-rouge">192.168.1.2-255</code>. Es kann einige Minuten dauern, bis der Knoten die IP vergeben hat. Wer sich nicht gedulden möchte, kann sich selber manuell eine IP geben, wenn man weiß wie das auf dem eigenen System funktioniert.<br />
Über <code class="highlighter-rouge">192.168.1.1</code> ist das Konfigurationsinterface des Knotens erreichbar.<br />
Hier lassen sich die wichtigsten Einstellungen vornehmen.</p>

<p>Wurde ein Knoten gerade frisch geflashed, startet er direkt in den Konfigurationsmodus für die Ersteinrichtung.<br />
Nach dem Speichern der Einstellungen startet der Knoten in den Produktivmodus neu.</p>

<p>Um später wieder in den Konfigurationsmodus zu gelangen, muss der Reset-Knopf des Gerätes so lange gedrückt werden, bis alle LEDs ein mal kurz aufleuchten.</p>

<h3 id="produktivmodus">Produktivmodus</h3>
<p>Ein Freifunk-Knoten wird sich in der meisten Zeit im Produktivmodus befinden. Er baut zu anderen Knoten in der Umgebung per WLAN und zu den Freifunk Servern per Internet eine Verbindung auf.<br />
Über die SSID (WLAN-Name) <code class="highlighter-rouge">bremen.freifunk.net</code> kann man mit WLAN-fähigen Geräten sich ins Freifunk einklinken.</p>

<p>Im Produktivmodus ist die Konfigurationsseite unter <code class="highlighter-rouge">192.168.1.1</code> <strong>nicht</strong> erreichbar.</p>

<h2 id="freifunk-router-konfigurieren">Freifunk-Router konfigurieren</h2>

<p>Nach dem RESET des Routers in den Konfigurationsmodus ist der Router unter einer <strong>anderen IP</strong> zu erreichen, daher hat es sich bewährt, das LAN-Kabel zwischen Computer und Router für einen kurzen Augenblick zu entfernen, damit der Computer danach eine neue Adresse beziehen kann.</p>

<p>Um das neue Menü des Routers zu erreichen, tippst du diesmal die <strong>Adresse 192.168.1.1 in deine Navigationsleiste des Browsers ein</strong>. Dort lassen sich verschiedene Einstellungen für den Router vornehmen.</p>

<p><img src="http://jel.to/ff_pics/gluon_1.jpg" title="Neue Weboberfläche" /></p>

<p>Zuerst kannst du dir einen <strong>beliebigen Namen</strong> für deinen  Freifunkrouter ausdenken (oder ihn so lassen). Dieser Name erscheint dann auf der Freifunk-Karte.
Außerdem musst du festlegen, ob die Firmware des Routers sich automatisch aktualisieren soll. In den meisten Fällen ist eine automatische Aktualisierung sinnvoll, so ist dein Router immer auf dem neusten Stand und unerwartete  Netzausfälle bleiben aus.</p>

<p><img src="http://jel.to/ff_pics/gluon_2.png" width="350px" title="Mesh-VPN" /></p>

<p>Dein Freifunkrouter soll sich über das Internet mit anderen Routern verbinden. (<strong>Mesh-VPN</strong>). Diese Einstellung ist nötig, weil sonst DCHP des Routers nicht funktioniert. Den angeschlossenen Geräten würden keine IP-Nummern automatisch zugewiesen, mit der Folge, dass es auch keine IP-Verbindungen gäbe.
<br />Allein wenn der Router als REPEATER eingesetzt wird, sich also über einen schon vorhandenen Freifunkrouter ins Freifunk-Netz (=Internet) verbindet, kann auf "Mesh-VPN" verzichtet werden. So ist dies z.B. sinnvoll für einen Repeater-Router im Gartenhäuschen, ohne eigenen, direkten Zugang zum Internet.
<br />Falls gewünscht, kann die <strong>Bandbreite</strong>, die der Freifunkrouter maximal nutzten darf, über die darauf folgende Option <strong>eingeschränkt werden</strong> (optional).</p>

<p><img src="http://jel.to/ff_pics/gluon_5.png" width="350px" title="Geo-Koordinaten" /></p>

<p>Damit andere Freifunker oder Nachbarn den Router auch auf der <strong>Freifunk-Karte</strong> finden, können die <strong>Koordinaten</strong> des Betriebsortes des Routers eingetragen werden. Lässt man den Haken weg, so erscheint der Router nicht auf der Karte.
Die Koordinaten sollte man sich vor der Konfiguration ggf. zwischenspeichern. Auf <a href="http://karte.leipzig.freifunk.net:8018/meshviewer2/build" target="_blank">unserer Karte</a> kannst du dir die gewünschten Koordinaten anzeigen lassen (über das Stecknadel-Symbol oben rechts).</p>

<p><img src="http://jel.to/ff_pics/gluon_3.png" width="350px" title="Kontakt" /></p>

<p>Nachdem du, natürlich auch <strong>optional</strong>, deine <strong>Kontaktadresse</strong> eingetragen hast, schließt du die Konfiguration mit einem Click auf den <strong>„Fertig“-Button</strong> ab. Der Kontakt dient dazu, dass du du dich informieren lassen kannst, wenn der Router mal keine Verbindung mehr zum Freifunk-Netz hat.
Der folgende Bildschirm bestätigt dir die erfolgreiche Einrichtung. Dein Router ist fertig eingerichtet und startet neu in den produktiven Modus. Deinen Schlüssel musst du <strong>nicht</strong> mehr, wie beschrieben, über einen Link übertragen.</p>

<h2 id="hinweise">Hinweise</h2>

<p>Nach dem Flashen mit der Freifunkfirmware unterscheidet der Router zwei Betriebsmodi:</p>
<ul>
  <li><strong>Konfigurationsmodus</strong>: Die Konfigurationsseite des Routers ist mit IP 192.168.1.1 erreichbar. Netzkabelanschluss (RJ45) an einer gelben LAN-Buchse</li>
  <li><strong>Produktivmodus</strong>: Normalbetrieb, User können WLAN-Verbindungen herstellen. Jedoch ist in diesem Modus kein Zugriff auf die Konfigurationsseite möglich.</li>
</ul>

<p>Nach erfolgreichem Flashen startet der Router einmal automatisch im Konfigrationsmodus und ist über IP 192.168.1.1 erreichbar. Bei allen weiteren Neustarts startet er automatisch immer im Produktivmodus: Die Konfigurationsseite ist unerreichbar.</p>

<p>Um erneut in den Konfigurationsmodus zu gelangen, muss der RESET-Knopf 10 Sekunden gedrückt gehalten werden. Nach einigen Sekunden blinken alle Status-LEDs gleichzeitig kurz auf. Der Router bootet nun in den Konfigurationsmodus.</p>

<p>Der per Kabel an die gelben Buchsen angeschlossene Rechner erhält vom Router eine IP im Bereich 192.168.1.*. Dieser Vorgang kann auch einige Minuten in Anspruch nehmen. Danach kannst du erneut vorgehen, wie unter “Freifunk-Router konfigurieren” beschrieben.</p>

<h2 id="anschluss-an-den-heimrouter">Anschluss an den Heimrouter</h2>

<p>Den geflashten und eingerichteten Freifunk-Router musst du nun <strong>mit deinem Heimrouter verbinden</strong>.<br />Nimm dazu das graue LAN-Kabel aus dem Karton und stecke es in den <strong>blauen „WAN“-Anschluss</strong> deines Freifunkrouters <strong>(„1.“)</strong>.<br />(<strong>Nicht die gelben Ports</strong> verwenden! Denn dann kann der FF-Router keine Verbindung zum Freifunknetz über das Internet aufbauen!)</p>

<p><img src="http://jel.to/ff_pics/ff_an_fritz.jpg" title="Anschluss Freifunkrouter" /></p>

<p>Das andere Ende des grauen LAN-Kabels kommt in den meist <strong>gelben LAN-Port deines Providerrouters</strong> (Fritzbox, Speedport, Easybox usw.) .<br />An dem Kabel, was aus der Wand (TAE-Dose) zu deinem Providerrouter führt und im blauen Port <strong>(„2.“)</strong> steckt, musst du <strong>nichts verändern</strong> (hier das orangene Kabel).<br />Sobald beide Geräte mit Strom versorgt werden, hast du nach wenigen Minuten deinen Freifunkrouter am Netz. Nach kurzer Zeit wird der Name deines Routers auf der <a href="http://karte.leipzig.freifunk.net:8018/meshviewer2/build">Knotenkarte</a> auftauchen.</p>

<h2 id="expertenmodus">Expertenmodus</h2>

<p>Dieser sollte immer vor den Änderungen im Wizard vorgenommen werden, da beim Verlassen der Seite die Informationen nicht automatisch gespeichert werden.</p>

<p>Im Expertenmodus ist es zudem noch möglich einen SSH-Zugriff einzurichten, damit man auch im produktiven Betrieb auf den Freifunk-Router, per SSH zugreifen kann. Bitte dieses nur durchführen, wenn man sich damit auskennt!<br />
Des Weiteren kann man sich für einen Versionszweig entscheiden, der auf dem Router immer automatisch aufgespielt wird. Wir empfehlen die Standard-Einstellung.</p>

<p>Solltest du vorhin das automatische Aktualisieren deaktiviert haben, kannst du bei „Firmware aktualisieren“ eine andere Version einspielen oder aber auch gar eine ganz andere Firmware.</p>

<h2 id="diagnose-und-fehlerbehebung">Diagnose und Fehlerbehebung</h2>

<h3 id="störung-des-heimischen-wlans">Störung des heimischen WLANs</h3>

<p>An dieser Stelle werden Probleme und mögliche Lösungen besprochen, die sich
mit dem heimischen WLAN beschäftigen.</p>

<h4 id="methode-1-anderes-frequenzband">Methode 1: anderes Frequenzband</h4>

<p>Sollte es zu Störungen des heimischen WLANs kommen, da dieses z.B. ebenfalls auf 2.4GHz sendet ist eine Möglichkeit, dieses auf das weniger verwendete 5Ghz (802.11a/n) Frequenzband umzustellen. Einfach in der Fritzbox oder ähnlichen Providerroutern schauen, wie die Umstellung des Frequenzbandes funktioniert. Dieses Frequenzband wird bereits von vielen Geräten unterstüzt, auch wenn diese nicht mehr ganz so aktuell sind - z.B. Thinkpad x300 von 2008.</p>

<h4 id="methode-2-zusätzlicher-router">Methode 2: zusätzlicher Router</h4>

<p>Eine andere Möglichkeit ist die Abschaltung des WLANs z.B. der Fritzbox, da diese per Default eher kleine Antennen hat und für eine größere Reichweite Repeater verwendet werden sollen.
Um WLAN trotzdem noch zur Verfügung zu stellen, kann ein weiterer TP-Link-Router verwendet werden. Diese habe größere Antennen, welche sich auch leichter tauschen lassen. Die Fritzbox dient somit nur noch als Modem, wobei das eigentliche WLAN über einen zweiten Router zur Verfügung gestellt wird.
Wird dieser noch mit OpenWRT bespielt, ergeben sich zusätzliche Möglichkeiten zur Konfiguration.</p>

</section>

  </main>
  <footer>
    <div>
      Alle Texte sind lizensiert unter <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.de">CC-BY-SA 4.0</a>.
    </div>
    <ul role="navigation">
      <li><a href="https://github.com/freifunk-leipzig/leipzig.freifunk.net-from-bremen/edit/master/anleitungen.md" target="_blank">Diese Seite bearbeiten</a></li>
      <li><a href="/kontakt.html">Kontakt</a>
      <li><a href="/impressum.html">Impressum</a>
      <li><a href="https://wiki.bremen.freifunk.net/Infrastruktur/Datenschutz">Datenschutz</a>
    </ul>
  </footer>
  <div id="blur"></div>
  <script src="/assets/main.js?6d10bbd"></script>
</div></div></body>
</html>
<!-- vim: syntax=html sw=2 ts=2 sts=2 et
-->

